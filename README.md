<h1><center>信息学竞赛笔记</center></h1>

[TOC]

note: (a / b / c) 表示 思维难度 / 实现难度 / 推荐程度

## 0. 神秘语法

a ?: b

$\max\limits_{f}$

$\substack{\max\\v\in son}$

$f_x=\sum\limits_{\substack{ffff\\v\in \text{son}_x}}f_v+\max\limits_{v\in\text{son}_x}a_v$ 



## 1. dp

### 1.1 简单 dp

### 1.2 区间 dp

### 1.3 数位 dp

### 1.4 树上 dp

#### 1.4.4 P9847 [ICPC 2021 Nanjing R] Crystalfly（4 / 3 / 8）

注意到 $t\le 3$, 于是想到对 $t$ 的值做分类讨论.  $t\le 2$ 时若拿走了 $u$ 点的蝴蝶, 但是没有立即前往 $u$ 点的某个儿子 $v$ 取走所有的蝴蝶, 那么以后就必然无法再拿走 $v$ 点的蝴蝶了. 而 $t=3$ 在 $t\le 2$ 的基础上增加了一种情况: 拿走了 $u$ 点的蝴蝶, 走到另一个距离 $u$ 点 $1$ 单位的点 $w$, 然后回到 $u$, 再拿走 $v$ 点的蝴蝶. 

于是转移是显然的, 设 $f_x$ 表示当前考虑了 $x$ 子树内的答案, **不考虑 $x$ 点**, 最多可以拿走多少个蝴蝶: 

+ $f_x=\sum\limits_{v\in \text{son}_x}f_v+\max\limits_{v\in\text{son}_x}a_v$ 
+ $f_x=\sum\limits_{v\in\text{son}_x}f_v+\max\limits_{w\neq v}(a_v-f_v+\sum\limits_{k\in \text{son}_v}f_k+a_w)$（其中 $w$ 点满足 $t_w=3$）

答案为 $f_1+a_1$. 

额外记录 $g_x=\sum\limits_{v\in\text{son}_x}f_v$ 既可做到 $O(n\log n)$ 或 $O(n)$ 求解. 

### 1.5 状压 dp / 插头 dp / dp of dp

### 1.6 ddp

### 1.7 插入顺序维护的 dp

### 1.8 数据结构优化 dp

### 1.9 计数相关 dp

### 1.10 杂题

#### 1.10.3 P9849 [ICPC 2021 Nanjing R] Xingqiu's Joke

观察到 $|a-b|$ 的值不会变大, 且每一次操作后要么值不变, 要么值变为上一个数的因子. 然后猜测不同的合法状态数很少, 于是想到记忆化, 设 $f_{a,\text{diff}}$ 表示当前两个数的值分别为 $a$ 和 $a+\text{diff}$ 最少需要的操作步骤, 然后直接枚举到除公共质因子的部分, 可以处理出 $|a-b|$ 的所有质因子然后一个个带入, 判断是否可行, 然后更新当前的 dp 状态即可. 

一些边界条件是: 

+ $a=1$ 或 $b=1$: 返回 $0$
+ $|a-b|=1$: 返回 $\min(a,b)-1$
+ dp 时存在边界 $\min(a,b)-1$（即一直 $-1$）

## 2. 图论

### 2.1 简单图论问题

### 2.2 二分图 / 网络流

### 2.3 基环树 / 仙人掌

### 2.4 弦图

### 2.5 SCC / 2-Sat

### 2.6 建模相关问题

### 2.7 杂题

## 3. 数据结构

### 3.1 简单数据结构

### 3.2 分治

### 3.3 可持久化数据结构

### 3.4 树上数据结构

### 3.5 高级数据结构

### 3.6 杂题

## 4. 贪心

### 4.1 简单贪心

### 4.2 贪心的技巧

### 4.3 博弈

#### 4.3.11 CF1934D2 XOR Break — Game Version（4 / 2 / 7） ####

直接猜结论: 当且仅当 $2\mid \text{popcount}(x)$ 时先手必胜, 否则先手必败. 交互策略是每一次拆出一个 $2^{\text{highbit}(x)}$. 

#### 4.3.12 AGC002E Candy Piles（8 / 3 / 10）

直接做比较困难. 考虑给 $a$ 数组从大到小排序, 然后构建模型, 从左往右第 $i$ 列从下往上放 $a_i$ 个石子. 如下图所示: 

![image](https://s2.ax1x.com/2019/10/13/uxC5ND.png)

然后此时两个操作被转化为: 

+ 删去最左边一列所有的石子
+ 删去最下面一行所有的石子

发现还是不太好做, 把这些石子看做是一个网格图, 网格图的外侧边界整体呈左上 - 右下倾斜. 然后经典的博弈套路, 分析每个点的必胜 / 必败态. 

![image](https://s2.ax1x.com/2019/10/13/uxite0.png)

此时若原点为必胜点, 则后手必胜, 否则先手必胜. 直接模拟该过程时间复杂度为 $O(\sum a_i)$ 过不去, 考虑在此基础上优化. 观察到必胜点和必败点的分布十分的有规律, 除去右上边界上的点外, 每一条斜率为 $1$ 的直线上所有点的必胜 / 必败态均相等. 于是考虑直接从原点出发暴力往右上跳, 走到边界内的最后一个点, 然后求其的必胜 / 必败态. 这个部分是简单的, 只需要找出其向上 / 向右可以走的长度, 然后根据其奇偶性来判定其必胜 / 必败态即可. 总时间复杂度为 $O(n)$, 可以通过. 

#### 4.3.13 ARC116F Deque Game（7 / 4 / 9） ####

先考虑只有一个数列的情况: 

**一、假设 Takahashi 是先手**

假设当前只有一个长度为 $n$ 的序列 $a$, 则先考虑这样的一个策略: 假设先手取走了序列某一侧的元素, 则后手一定可以取走对侧的元素, 这样可以将最后剩余的唯一元素局限在序列的中部. 

对 $n$ 的奇偶性分类讨论: 

**（1）$2\nmid n$**

先模拟 $n$ 比较小的情况. $n=1$ 时答案显然. $n=3$ 时: 

+ 若此时先手取走了最左侧的 $a_1$, 那么此时后手可以选择取走 $a_2$ 或 $a_3$ 中的某个元素. 在最优策略下, 最终数列剩下的元素显然是 $\min(a_2,a_3)$. 
+ 若此时先手取走了最右侧的 $a_2$, 那么此时后手可以选择取走 $a_1$ 或 $a_2$ 中的某个元素. 在最优策略下, 最终序列剩下的元素显然是 $\min(a_1,a_2)$. 

而此时先手也会选择最优策略最大化答案, 因此显然此时答案为 $\max(\min(a_1,a_2),\min(a_2,a_3))$. 

扩展到 $n=2k+1$ 的情况: 假设此时先手取走了最左边的石子, 那么: 

+ 后手取最右边的石子. 那么规约到 $n=2k-1$ 的情况递归处理. 
+ 后手取最左边的石子. 激情的左右脑博弈之后可以发现此时有两种情况: 
  + 先手继续取最左边的石子. 那么此时情况比较偏离轨道, 但是倒推一下, 若后手取最左边的石子比取最右边的石子更优, 那么此时其肯定是希望先手取最左侧的石子以达到其目标的. 而若先手取了最左侧的式子就正好符合了后手的心意. 
  + 先手取右边的石子, 回到情况开始. 因此此时情况形如: 后手一直取左边石子, 先手一直取右边石子, 局面保持平衡, 直到某一时刻后手取左边石子不优, 打破局面取右侧石子, 此时又规约到了 $n=2k+1-2p$ 时的情况. 

先手第一步取右侧的石子也同理. 因此最终都规约到了 $n=3$ 的情况. 这堆石子的最优解即形如: 找出石子的中位编号 $\text{mid}$, 最终的答案即为 $\max(\min(a_{\text{mid}-1},a_{\text{mid}},\min(a_{\text{mid}},a_{\text{mid}+1})))$. 

**（2）$2\mid n$**

同样还是模拟 $n$ 比较小的情况. $n=2$ 时先手可以直接决定最后保留的石子, 答案为 $\max(a_1,a_2)$. 

扩展到 $n=2k$ 的情况: 假设此时先手取走了最左边的石子, 那么: 

+ 后手取最右边的石子. 那么规约到 $n=2k-2$ 的情况递归处理. 
+ 后手取最左边的石子. 激情的左右脑博弈之后可以发现此时有两种情况: 
  + 先手继续取最左边的石子. 那么此时情况比较偏离轨道, 但是倒推一下, 若后手取最左边的石子比取最右边的石子更优, 那么此时其肯定是希望先手取最左侧的石子以达到其目标的. 而若先手取了最左侧的式子就正好符合了后手的心意. 
  + 先手取右边的石子, 回到情况开始. 因此此时情况形如: 后手一直取左边石子, 先手一直取右边石子, 局面保持平衡, 直到某一时刻后手取左边石子不优, 打破局面取右侧石子, 此时又规约到了 $n=2k-2p$ 时的情况. 

先手第一步取右侧的石子也同理. 因此最终都规约到了 $n=2$ 的情况. 这堆石子的最优解即形如: 找出石子的中位编号中相对较小的编号 $\text{mid}$, 最终的答案即为 $\max(a_\text{mid},a_\text{mid+1})$. 

**二、假设 Aoki 是先手**

好吧其实和之前的没啥差别（）

**（1）$2\nmid n$**

$n=1$ 时答案为 $a_1$, $n=3$ 时答案为 $\min(\max(a_1,a_2),\max(a_2,a_3))$, 扩展到 $n=2k+1$ 的情况: 设中位数编号为 $\text{mid}$, 则答案即为 $\min(\max(a_{\text{mid}-1},a_\text{mid}),\max(a_\text{mid},a_{\text{mid}+1}))$. 

**（2）$2\mid n$**

$n=2$ 时答案为 $\min(a_1,a_2)$, 扩展到 $n=2k$ 的情况: 设中位数编号相对较小的编号 $\text{mid}$, 则答案即为 $\min(a_\text{mid},a_{\text{mid}+1})$. 

----

然后回到 $n$ 个序列的情况: 假设其中存在一个长度为 $m$ 的序列, 那么: 

**（1）$2\mid m$**

+ 若 Takahashi 是先手, 则答案为 $\max(a_{\text{mid}},a_{\text{mid}+1})$. 
+ 若 Aoki 是先手, 则答案为 $\min(a_{\text{mid}},a_{\text{mid}+1})$. 

**（2）$2\nmid m$**

+ 若 Takahashi 是先手, 则答案为 $\max(\min(a_{\text{mid}-1,a_\text{mid}},\min(a_\text{mid},a_{\text{mid}+1})))$. 
+ 若 Aoki 是先手, 则答案为 $\min(\max(a_{\text{mid}-1,a_\text{mid}},\max(a_\text{mid},a_{\text{mid}+1})))$. 

---

对于第一种情况, 不论哪一方先操作, 一定都比后操作对自己更有利. 

对于第二种情况, 考虑经典套路, 对所有 $a_{\text{mid}-1},a_\text{mid},a_{\text{mid}+1}$ 三个元素之间的偏序关系进行分类讨论, 最终可以发现不论哪一方先操作, 一定都比后操作对自己更不利. 

然后又可以分析得出, 若某个人操作了一个序列, 那么另一方一定可以对称的操作序列, 使得序列的关系不变. 因此一个最优的策略是给所有的序列按照一定顺序排序, 然后双方按顺序轮流对一个序列执行操作. 

于是现在的问题在于, 怎么快速的找出这个操作顺序. 这一步是比较容易的. 考虑经典套路, 对每个长度为偶数的序列求出 Takahashi 作为先手选这个序列的代价和 Aoki 作为先手选这个序列的代价, 然后将其作差, 并按照贡献从大到小排序. 因为 Takahashi 是先手, 所以她一定会选择所有序列中对自己贡献最大的, 然后 Aoki 会选择所有序列中对自己贡献第二大的, 依次类推……而对于长度为奇数的序列, 两个人操作完之后不会影响先后手的顺序, 且这些序列作为先手一定给自己带来的贡献更大, 因此 Takahashi 作为先手一定会把所有这些序列都先手操作掉. 

#### 4.3.14 CF794E Choosing Carrot（7 / 4 / 9）

前面的部分和 4.3.13 一样, 问题在于此时 Takahashi 可以先执行 $k$ 次操作. 

此时容易计算出 $k=0$ 和 $k=1$ 时的答案, 而若 $k=p$（$p\ge 2$）, 则可以规约到 $k=p-2$ 时的情况, 然后在此基础上: 

+ 取一次左侧和一次右侧, 那么和 $k=p-2$ 的情况完全相同. 
+ 取两次左侧, 那么此时相当于是 $k=p-2$ 的基础上整体向左平移, 答案可以再往左取一个位置. 
+ 取两次右侧, 那么此时相当于是 $k=p-2$ 的基础上整体向右平移, 答案可以再往右取一个位置. 

容易发现上面这个东西可以做到 $O(n)$ 递推转移, 注意需要特判 $k=n-1$, 此时答案即为 $\max\limits_{i=1}^n a_i$. 

#### 4.3.15 CF1776I Spinach Pizza（5 / 4 / 5）

前置知识: 简单计算几何

有经典结论: 在一个凸包上, 每次选择最小的三角形并将其顶点从凸包上删除, 得到的所有三角形的面积单调不下降. 证明拿叉积算一下就行. 

于是容易证明, 根据这个策略, 若 $n$ 为偶数则先手必胜, 否则先手会多取走一个三角形, 后手必胜. 

$n$ 很小, 所以直接暴力模拟该过程, 时间复杂度为 $O(n^2)$ 可以通过. 

### 4.4 杂题

#### 4.4.1 AGC029B Powers of two（3 / 3 / 7）

首先将数组升序排序. 然后考虑对于每个位置 $i$, 对于所有比其靠前的位置 $j$, 最多存在一个 $j$ 使得 $a_i+a_j$ 是 $2$ 的幂次. 证明显然. 

然后再从大到小考虑, 对每个数 $a_i$ 而言, 若其可以和 $a_j$ 匹配（$j<i$）, 则若其放弃了匹配机会, 则其再也无法和其他数进行匹配. 而放弃这个匹配机会后 $a_j$ 最多能贡献 $1$ 的答案, 不如和 $a_i$ 匹配以确保贡献 $1$ 的答案. 因此直接贪心的正确性有保障. 

直接模拟时间复杂度为 $O(n^2)$, 考虑优化: 容易观察到在值域范围内 $2$ 的幂次只有 $O(\log V)$ 个, 因此想到直接从大到小暴力枚举所有 $2$ 的幂次, 然后用双指针扫描贪心的选出尽可能多的组合, 时间复杂度为 $O(n\log V)$ 可以通过. 

#### 4.4.2 P13509 [OOI 2024] Almost Certainly（6 / 4 / 9）

Source2: 代码源 20251004 模拟赛 T2

注意到题目给出性质 **保证答案必然存在** 以及 $\forall i\in[1,n],b_i\le a_i$, 因此考虑利用该性质解题. 

考虑到对于所有满足 $a_i=b_i$ 的位置 $i$, 不如直接将其匹配掉. 此时只会剩下若干个满足 $a_i<b_i$ 的位置. 

特判掉此时不存在 $a_i<b_i$ 的位置 $i$ 的情况, 然后按 $a_i$ 的值从小到大对二元组 $(a_i,b_i)$ 排序. 假设此时选择了 $a_i$ 和 $b_j$ 并将其消去, 假设此时可以匹配成功, 那么总代价将会减少 $a_i-b_j$. 为了让最后的代价和最小, 肯定希望让减去的这个代价 $a_i-b_j$ 的值尽量大. 因此此时肯定会贪心的让 $i\ge j$. 

然后考虑什么时候可以把 $a_i$ 和 $b_j$ 消去然后剩下的匹配. 容易想到贪心策略是直接按顺序两两匹配, 此时需要满足条件 $b_{j+1}\le a_j,b_{j+2}\le a_{j+1},\ldots,b_i\le a_{i-1}$. 于是想到经典套路: 把每一个二元组 $(a_i,b_i)$ 看做是一个区间 $[b_i,a_i]$. 此时前面给出的条件可以看作是**第 $j$ 个区间到第 $i$ 个区间组成了一个连续段**, 而此时 $a_i-b_j$ 的值就是**这个连续段的长度**. 为了让这个长度最大, 显然只需要找出所有连续段中最长的那一段 $[j,i]$, 从序列中删除 $a_i$ 和 $b_j$, 剩下的部分按顺序两两匹配为最优解. 

此时答案即为 $\sum\limits_{i=1}^m(a_i-b_i)$ 减去最长连续段的长度, 直接模拟这个过程可以做到 $O(n^2)$ 求解. 

考虑到题目按顺序依次询问了所有的前缀, 而从长度为 $i-1$ 的前缀扩展到长度为 $i$ 的前缀, 只会增加一个区间 $[b_i,a_i]$, 而维护的信息则是连续段. 因此想到用类似颜色段均摊的方法维护当前所有的连续段, 然后再开一个 `map` 维护当前所有连续段的长度, 总时间复杂度为 $O(n\log n)$ 可以通过该题. 

## 5. 构造和非传统题

### 5.1 构造

#### 5.1.12 P14158 [ICPC 2022 Nanjing R] 三角形

在草稿纸和几何画板上瞎画可以发现 $n\le 7$ 都无解, 但是 $n=8,9,10,11$ 都有解. 

下面给出一个~~不太严谨的~~证明: 

::::info[证明]
因为正方形有四个顶点, 每个顶点的度数都为 $90^\circ$, 而又因为锐角三角形要求顶点度数 $<90^\circ$, 所以四个顶点都至少需要被劈一次, 这样至少要将平面划分为 $4$ 份, 因此 $n<4$ 无解. 

然后考虑为什么 $n=4$ 无解: 发现此时必然在正方形内部存在一个点是至少一个三角形的顶点, 此时这个点交的所有三角形的角度都必须严格小于 $90^\circ$, 而因为此时最多有四个三角形的顶点平分这个点的度数, 根据鸽巢原理可知此时至少有一个顶点的度数 $\ge 90^\circ$, 显然不符合锐角三角形的条件. 

剩下 $n\in\lbrace 5,6,7\rbrace$ 的情况. 考虑扩展上面的部分, 将所有三角形的顶点分为三类: 

+ 点在正方形的顶点上, 这里称其为第一类点. 
+ 点在正方形的边上, 这里称其为第二类点. 
+ 点在正方形内部, 这里称其为第三类点. 

对上面的三类点分别进行考虑: 

+ 点在正方形的顶点上: 此时该点至少需要被分为 $\lfloor\frac{90^\circ}{90^\circ}\rfloor+1=2$ 个部分. 
+ 点在正方形的边上: 此时该点至少需要被分为 $\lfloor\frac{180^\circ}{90^\circ}\rfloor+1=3$ 个部分. 
+ 点在正方形的内部: 此时该点至少需要被分为 $\lfloor\frac{360^\circ}{90^\circ}\rfloor+1=5$ 个部分. 

容易证明第一类点必然恰有 $4$ 个, 这里设有 $x$ 个第二类点和 $y$ 个第三类点. 这里设最少被划分为 $n$ 个三角形, 而一个三角形有 $3$ 个顶点, 因此可以列出下面的关系式: 

+ $3n\ge 8+3x+5y$

然后还可以从内角和的角度考虑, 于是可得下面的等量关系式: 

+ $180n=360+180x+360y$ 即 $n=2+x+2y$

即: 

+ $3n\ge 8+3x+5y$（$1$）
+ $n=2+x+2y$（$2$）

其中 $n,x,y\in\mathbb{N}$. 

给（$2$）式乘 $3$, 然后（$1$）式减（$2$）式可得 $0\ge 2-y$ 即 $y\ge 2$. 此时可以证明 $n\ge 6$. 

而 $n\ge 6$ 时, 唯一满足（$2$）式的可行情况为 $x=n-6,y=2$. 发现这个确实满足上面的关系式. 但是考虑再换个角度, 上面的 $y$ 个点每一个点至少是 $5$ 个不同三角形的顶点, 而 $y=2$ 时, 最多有两个三角形同时以两个中间的点作为三角形的顶点. 因此此时至少有 $5\times 2-2=8$ 个三角形. 

此时证明了 $n\le 7$ 时一定无解. 而证明 $n\ge 8$ 你只需要给出一组反例即可, 下文给出了反例. 

::::

然后有经典结论, 一个锐角三角形, 找到其三条边上的中点两两相连, 其必然会形成四个新的三角形, 且这四个三角形仍然是锐角三角形. 

于是把 $n$ 按照 $\bmod\ 3$ 分类, $n=3k+p$（$n\ge 8$）都可以规约到 $n=8,n=9,n=10$ 三种情况处理. 

然后下面给出三个情况的构造方法（感觉方法应该不少）: 

**一、$n=9$**

这个是最先构造出来的, 所以先写这个了（）

在右上角留一个类似飞镖的结构, 左下角部分是一个凸四边形可以切成两个三角形, 然后这个时候你只需要保证凸四边形的右上角不在 $y=x$ 直线上, 然后不对等的切出五个三角形就行了. 

可能描述的不太详细, ~~这里直接复制官方题解的图了（）~~

<img src="https://s21.ax1x.com/2025/10/06/pV7NEOs.png" alt="image" style="zoom:40%;" />

**二、$n=8$**

在下半部分切割出来一个等腰梯形, 然后底边上取中点就可以割出三个锐角三角形, 然后上面两个顶点和正方形上面的两个顶点连边, 就又得到了两个三角形. 上面同样剩下一个等腰梯形, 和下面的方法一样能再割出三个锐角三角形, 总共 $8$ 个. 

<img src="https://s21.ax1x.com/2025/10/06/pV7NmT0.png" alt="image" style="zoom:40%;" />

**三、$n=10$**

先考虑一个简单的子问题: 怎么在一个等腰钝角三角形内割出 $7$ 个锐角三角形. 这个时候在底边上取一个中点的方法已经不可行了, 考虑对称的取两个点. 一个比较直接的方法是直接把两个点和等腰三角形的顶点连起来, 但是这样又获得了两个新的钝角三角形, 而且还失去了等腰的性质更难处理. 

此时可以想到, 如果换个方法, 在两侧割出两个锐角三角形, 剩余部分能否构造出 $5$ 个锐角三角形？发现确实可以构造, 中间剩余的部分形如一个五边形, 在五边形内部取一点, 将其和五边形的五个顶点依次连接, 可以得到 $5$ 个锐角三角形. 总计 $7$ 个锐角三角形. 

问题变为怎么在一个正方形内割出 $3$ 个锐角三角形和一个等腰钝角三角形. 这是容易的, 找出正方形正中间的竖线, 取其下侧一点, 将其分别连接正方形的四个顶点即可. 下侧的钝角三角形按照刚才的割 $7$ 个锐角三角形的方法构造, 总共得到 $10$ 个锐角三角形. 

<img src="https://s21.ax1x.com/2025/10/06/pV7NMfU.png" alt="image" style="zoom:40%;" />

**四、扩展到 $n=3k+p$ 的形式**

前面已经说过了, 可以找到一个锐角三角形三条边中点然后将其两两连接得到 $4$ 个新的锐角三角形, 用这个方法可以无限扩展下去. 

---

然后是一些代码实现的细节: 因为这个东西不论是大脑思考还是在草稿纸上画都很难不出现误差, 所以一个比较好的方法是用 Geogebra 或者 Desmos 这种画图工具来对点进行调整, 为了更方便的计算, 可以将正方形的横竖方向都均匀的划分为 $20$ 份然后尽量的选择横竖交叉的点来构造. 

### 5.2 交互

#### 5.2.4 CF1934D2 XOR Break — Game Version（3 / 2 / 7） ####

直接猜结论: 当且仅当 $2\mid \text{popcount}(x)$ 时先手必胜, 否则先手必败. 交互策略是每一次拆出一个 $2^{\text{highbit}(x)}$. 

#### 5.2.5 CF1776I Spinach Pizza（5 / 4 / 5）

有经典结论: 在一个凸包上, 每次选择最小的三角形并将其顶点从凸包上删除, 得到的所有三角形的面积单调不下降. 证明拿叉积算一下就行. 

于是容易证明, 根据这个策略, 若 $n$ 为偶数则先手必胜, 否则先手会多取走一个三角形, 后手必胜. 

$n$ 很小, 所以直接暴力模拟该过程, 时间复杂度为 $O(n^2)$ 可以通过. 

### 5.3 通信

### 5.4 提交答案

### 5.5 hack 题

## 6. 字符串

### 6.1 Hash, Trie, kmp, manacher, 最小表示法

### 6.2 后缀数组

### 6.3 自动机相关

### 6.4 Lyndon 理论

### 6.5 杂题

## 7. 搜索

### 7.1 简单搜索

### 7.2 复杂搜索

### 7.3 剪枝

### 7.4 杂题

## 8. 数学相关

### 8.1 数论

### 8.2 组合计数

### 8.3 概率和期望

### 8.4 线性代数

### 8.5 计算几何

### 8.6 抽象代数

### 8.7 推式子题

### 8.8 数值算法

### 8.9 其他经典数学结论

### 8.10 杂题

## 9. 杂题

### 9.1 暴力相关

通常和调和级数（$\sum\limits_{i=1}^n\frac ni=O(n\log n)$）, 均摊分析, 势能分析, 数据分析相关. 

#### 9.1.1 [CX_cbc015_c] GCD on a matrix（2 / 2 / 6）

tag: 数据分析

简单分析可以发现当 $n$ 很大的时候, 前 $kn$ 小的 $\gcd$ 组的值都是 $1$, 因此答案即为 $kn$. 而 $n$ 小的时候直接暴力处理即可. 

#### 9.1.2 P4347 [CERC2015] Book Borders（3 / 2 / 5）

tag: 调和级数分析

考虑到经典结论: $\sum\limits_{i=1}^n\frac ni=O(n\log n)$. 于是你可以发现, 处理出每个位置所在的单词开头位置的下标后, 直接暴力对每个长度模拟往后跳的过程, 时间复杂度就是 $O(n\log n)$ 的, 于是就做完了. 

#### 9.1.3 QOJ10868 Game With Dealer（5 / 2 / 10）

tag: 调和级数分析

Source2: 代码源 20251004 模拟赛 T1

考虑一个简单的暴力: 对于每个 $k$, 执行下面的操作: 

+ （1）先找到位置 $k$, 并询问 $[1,k]$ 前缀内黑桃的数量. 
+ （2）若上一次返回的答案为 $k$, 那么结束询问过程. 
+ （3）若上一次返回的答案为 $w$（此时必有 $w<k$）, 则显然 $k\to k+w-1$ 中都不可能出现第 $k$ 张黑桃, 因此直接令 $k\leftarrow k+w$, 然后重复执行该步骤. 
+ （4）若某一时刻 $k>n$, 则说明不存在第 $k$ 张黑桃. 

看上去时间复杂度为 $O(n^2)$, 但是处理前缀和后直接模拟该过程, 发现其可以直接通过. 下面简要证明该做法的时间复杂度为 $O(n\log n)$: 

+ 找到第一张黑桃: 设这段距离为 $x$, 一共需要暴力跳 $\frac{x}{1}+\frac x2+\ldots+\frac xn<O(x\log x)$ 步. 
+ 找到第二张黑桃: 设这段距离为 $y$, 一共需要暴力跳 $\frac y1+\frac y2+\ldots+\frac y{n-1}<O(y\log y)$ 步. 
+ 以此类推

因此设一共有 $p$ 张黑桃, 第 $i$ 张黑桃和上一张黑桃（或者序列开头）的距离为 $a_i$, 则总共需要暴力跳的次数为 $O(\sum\limits_{i=1}^pa_i\log a_i)<O(\sum\limits_{i=1}^pa_i)\log n=O(n\log n)$. 

### 9.2 随机化相关

### 9.3 乱搞相关

### 9.4 语文题

~~做出这类题目的概率和你和朝鲜民主主义人民共和国伟大领导人金正恩同志的欧几里得距离呈反比~~

### 9.5 诈骗题

### 9.6 进制相关
