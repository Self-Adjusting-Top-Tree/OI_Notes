<h1><center>信息学竞赛笔记</center></h1>

[TOC]

note: (a / b / c) 表示 思维难度 / 实现难度 / 推荐程度

## 0. 神秘语法

a ?: b

## 1. dp

### 1.1 简单 dp

### 1.2 区间 dp

### 1.3 数位 dp

### 1.4 树上 dp

#### 1.4.4 P9847 [ICPC 2021 Nanjing R] Crystalfly（4 / 3 / 8）

注意到 $t\le 3$, 于是想到对 $t$ 的值做分类讨论.  $t\le 2$ 时若拿走了 $u$ 点的蝴蝶, 但是没有立即前往 $u$ 点的某个儿子 $v$ 取走所有的蝴蝶, 那么以后就必然无法再拿走 $v$ 点的蝴蝶了. 而 $t=3$ 在 $t\le 2$ 的基础上增加了一种情况: 拿走了 $u$ 点的蝴蝶, 走到另一个距离 $u$ 点 $1$ 单位的点 $w$, 然后回到 $u$, 再拿走 $v$ 点的蝴蝶. 

于是转移是显然的, 设 $f_x$ 表示当前考虑了 $x$ 子树内的答案, **不考虑 $x$ 点**, 最多可以拿走多少个蝴蝶: 

+ $f_x=\sum\limits_{v\in \text{son}_x}f_v+\max\limits_{v\in\text{son}_x}a_v$ 
+ $f_x=\sum\limits_{v\in\text{son}_x}f_v+\max\limits_{w\neq v}(a_v-f_v+\sum\limits_{k\in \text{son}_v}f_k+a_w)$（其中 $w$ 点满足 $t_w=3$）

答案为 $f_1+a_1$. 

额外记录 $g_x=\sum\limits_{v\in\text{son}_x}f_v$ 既可做到 $O(n\log n)$ 或 $O(n)$ 求解. 

### 1.5 状压 dp / 插头 dp / dp of dp

### 1.6 ddp

### 1.7 插入顺序维护的 dp

### 1.8 数据结构优化 dp

### 1.9 计数相关 dp

### 1.10 杂题

#### 1.10.3 P9849 [ICPC 2021 Nanjing R] Xingqiu's Joke

观察到 $|a-b|$ 的值不会变大, 且每一次操作后要么值不变, 要么值变为上一个数的因子. 然后猜测不同的合法状态数很少, 于是想到记忆化, 设 $f_{a,\text{diff}}$ 表示当前两个数的值分别为 $a$ 和 $a+\text{diff}$ 最少需要的操作步骤, 然后直接枚举到除公共质因子的部分, 可以处理出 $|a-b|$ 的所有质因子然后一个个带入, 判断是否可行, 然后更新当前的 dp 状态即可. 

一些边界条件是: 

+ $a=1$ 或 $b=1$: 返回 $0$
+ $|a-b|=1$: 返回 $\min(a,b)-1$
+ dp 时存在边界 $\min(a,b)-1$（即一直 $-1$）

### 

### 



### 

## 6. 字符串

### 6.1 Hash, Trie, kmp, manacher, 最小表示法

### 6.2 后缀数组

### 6.3 自动机相关

### 6.4 Lyndon 理论

### 6.5 杂题

## 7. 搜索

### 7.1 简单搜索

### 7.2 复杂搜索

### 7.3 剪枝

### 7.4 杂题

## 8. 数学相关

### 8.1 数论

### 8.2 组合计数

### 8.3 概率和期望

### 8.4 线性代数

### 8.5 计算几何

### 8.6 抽象代数

### 8.7 推式子题

### 8.8 数值算法

### 8.9 其他经典数学结论

### 8.10 杂题

## 9. 杂题

### 9.1 暴力相关

通常和调和级数（$\sum\limits_{i=1}^n\frac ni=O(n\log n)$）, 均摊分析, 势能分析, 数据分析相关. 

#### 9.1.1 [CX_cbc015_c] GCD on a matrix（2 / 2 / 6）

tag: 数据分析

简单分析可以发现当 $n$ 很大的时候, 前 $kn$ 小的 $\gcd$ 组的值都是 $1$, 因此答案即为 $kn$. 而 $n$ 小的时候直接暴力处理即可. 

#### 9.1.2 P4347 [CERC2015] Book Borders（3 / 2 / 5）

tag: 调和级数分析

考虑到经典结论: $\sum\limits_{i=1}^n\frac ni=O(n\log n)$. 于是你可以发现, 处理出每个位置所在的单词开头位置的下标后, 直接暴力对每个长度模拟往后跳的过程, 时间复杂度就是 $O(n\log n)$ 的, 于是就做完了. 

#### 9.1.3 QOJ10868 Game With Dealer（5 / 2 / 10）

tag: 调和级数分析

Source2: 代码源 20251004 模拟赛 T1

考虑一个简单的暴力: 对于每个 $k$, 执行下面的操作: 

+ （1）先找到位置 $k$, 并询问 $[1,k]$ 前缀内黑桃的数量. 
+ （2）若上一次返回的答案为 $k$, 那么结束询问过程. 
+ （3）若上一次返回的答案为 $w$（此时必有 $w<k$）, 则显然 $k\to k+w-1$ 中都不可能出现第 $k$ 张黑桃, 因此直接令 $k\leftarrow k+w$, 然后重复执行该步骤. 
+ （4）若某一时刻 $k>n$, 则说明不存在第 $k$ 张黑桃. 

看上去时间复杂度为 $O(n^2)$, 但是处理前缀和后直接模拟该过程, 发现其可以直接通过. 下面简要证明该做法的时间复杂度为 $O(n\log n)$: 

+ 找到第一张黑桃: 设这段距离为 $x$, 一共需要暴力跳 $\frac{x}{1}+\frac x2+\ldots+\frac xn<O(x\log x)$ 步. 
+ 找到第二张黑桃: 设这段距离为 $y$, 一共需要暴力跳 $\frac y1+\frac y2+\ldots+\frac y{n-1}<O(y\log y)$ 步. 
+ 以此类推

因此设一共有 $p$ 张黑桃, 第 $i$ 张黑桃和上一张黑桃（或者序列开头）的距离为 $a_i$, 则总共需要暴力跳的次数为 $O(\sum\limits_{i=1}^pa_i\log a_i)<O(\sum\limits_{i=1}^pa_i)\log n=O(n\log n)$. 

### 9.2 随机化相关

### 9.3 乱搞相关

### 9.4 语文题

~~做出这类题目的概率和你和朝鲜民主主义人民共和国伟大领导人金正恩同志的欧几里得距离呈反比~~

### 9.5 诈骗题

### 9.6 进制相关
